---

---

<div class="c-docsearch js-docsearch"></div>

<style>
  .c-docsearch {
    display: grid;
    place-items: center end;
    width: 100%;
  }
</style>

<script>
  import docsearch from "@docsearch/js";
  import "@docsearch/css";
  import "@styles/vendors/algolia.css";

  (() => {
    docsearch({
      container: ".js-docsearch",
      appId: import.meta.env.PUBLIC_ALGOLIA_APP_ID,
      indexName: import.meta.env.PUBLIC_ALGOLIA_INDEX_NAME,
      apiKey: import.meta.env.PUBLIC_ALGOLIA_API_KEY,
      placeholder: "Search docs",
      transformItems: (items) => {
        return items.map((item) => {
          // We transform the absolute URL into a relative URL to
          // work better on localhost, dev URLS.
          const a = document.createElement("a");
          a.href = item.url;
          const hash = a.hash;

          return {...item, url: `${a.pathname}${hash}`};
        });
      }
    });

    const searchTriggers = document.querySelectorAll('[kui-trigger="search"]');
    const docSearchButton = document.querySelector(".DocSearch-Button") as HTMLElement;

    searchTriggers.forEach((trigger) => {
      trigger.addEventListener("click", () => {
        docSearchButton?.click();
      });
    });
  })();
</script>
